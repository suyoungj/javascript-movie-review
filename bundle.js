(()=>{"use strict";var n={71:(n,e,t)=>{t.d(e,{Z:()=>p});var r=t(81),i=t.n(r),o=t(645),a=t.n(o),s=t(667),l=t.n(s),c=new URL(t(475),t.b),d=a()(i()),u=l()(c);d.push([n.id,"* {\n  box-sizing: border-box !important;\n}\n\nbody {\n  font-size: 14px;\n  background-color: #222222;\n  color: #fff;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\nbutton {\n  cursor: pointer;\n}\n\n#app {\n  padding-bottom: 48px;\n}\n\n*:focus {\n  outline: none;\n}\n.item-view,\n.item-test {\n  width: 100%;\n}\n\n.item-view {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 1200px;\n  margin: 0 auto;\n}\n\n.item-view h2 {\n  font-size: 2rem;\n  font-weight: bold;\n  user-select: none;\n}\n\n/* https://andrew.hedges.name/experiments/aspect_ratio/ */\n\n.item-list {\n  display: grid;\n  margin: 48px 0;\n  grid-template-columns: repeat(4, 180px);\n  grid-column-gap: 160px;\n  grid-row-gap: 48px;\n}\n\n.item-card {\n  display: flex;\n  flex-direction: column;\n}\n\n.item-thumbnail:hover {\n  transform: scale(1.1);\n}\n\n.item-thumbnail {\n  border-radius: 8px;\n  width: 180px;\n  height: 270px;\n  background-size: contain;\n  transition: transform 0.5s;\n}\n\n.item-title {\n  margin-top: 16px;\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\n.item-score {\n  margin-top: 16px;\n  font-size: 1.2rem;\n}\n\n.item-score::after {\n  margin-left: 8px;\n}\n\n.item-title.skeleton::after,\n.item-score.skeleton::after {\n  font-size: 0;\n  content: 'loading';\n}\n\n.full-width {\n  width: 100%;\n}\n\n.last-item {\n  margin-top: 48px;\n}\n\nbutton.btn {\n  border: 0;\n  border-radius: 8px;\n  height: 30px;\n  color: #fff;\n}\n\nbutton.primary {\n  background: #f33f3f;\n}\n\n.item-card .skeleton {\n  background: linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);\n  background-size: 400%;\n  animation: skeleton-animation 5s infinite ease-out;\n  border-radius: 8px;\n}\n\n@keyframes skeleton-animation {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n\nheader {\n  width: 100%;\n  min-width: 1200px;\n  height: 72px;\n  background-color: #222;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 20px;\n  border-bottom: 1px solid white;\n  margin-bottom: 48px;\n}\n\nheader h1 {\n  cursor: pointer;\n  user-select: none;\n  font-size: 2rem;\n  font-weight: bold;\n  letter-spacing: -0.1rem;\n  color: #f33f3f;\n}\n\nheader > .search-box {\n  background: #fff;\n  padding: 8px;\n  border-radius: 4px;\n}\n\nheader .search-box > input {\n  border: 0;\n}\n\nheader .search-box > .search-button {\n  width: 14px;\n  border: 0;\n  text-indent: -1000rem;\n  background: url("+u+") transparent no-repeat 0 1px;\n  background-size: contain;\n}\n",""]);const p=d},538:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),i=t.n(r),o=t(645),a=t.n(o)()(i());a.push([n.id,"/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n",""]);const s=a},978:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),i=t.n(r),o=t(645),a=t.n(o)()(i());a.push([n.id,".hide {\n  display: none;\n}\n",""]);const s=a},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,i,o){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},a=[],s=0;s<n.length;s++){var l=n[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var p=t(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=i(h,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var o=r(n=n||[],i=i||{});return function(n){n=n||[];for(var a=0;a<o.length;a++){var s=t(o[a]);e[s].references--}for(var l=r(n,i),c=0;c<o.length;c++){var d=t(o[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=l}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},475:(n,e,t)=>{n.exports=t.p+"f1bd4269f4446ceae306.png"}},e={};function t(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var r=e.getElementsByTagName("script");r.length&&(n=r[r.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var n=t(379),e=t.n(n),r=t(795),i=t.n(r),o=t(569),a=t.n(o),s=t(565),l=t.n(s),c=t(216),d=t.n(c),u=t(589),p=t.n(u),h=t(538),f={};f.styleTagTransform=p(),f.setAttributes=l(),f.insert=a().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=d(),e()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals;var m=t(71),v={};v.styleTagTransform=p(),v.setAttributes=l(),v.insert=a().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=d(),e()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var g=t(978),b={};b.styleTagTransform=p(),b.setAttributes=l(),b.insert=a().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=d(),e()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;const y='\n  <li>\n    <a href="#">\n      <div class="item-card">\n        <div class="item-thumbnail skeleton"></div>\n        <div class="item-title skeleton"></div>\n        <div class="item-score skeleton"></div>\n      </div>\n    </a>\n  </li>\n  '.repeat(20),H=(n,e,t=null)=>{const r=new CustomEvent(e,{bubbles:!0,detail:t});n.dispatchEvent(r)},x=n=>document.querySelector(n),C=n=>{var e;return null===(e=x(n))||void 0===e?void 0:e.classList.add("hide")},w=n=>{var e;return null===(e=x(n))||void 0===e?void 0:e.classList.remove("hide")},V=()=>C("#skeleton-list"),M=()=>w("#skeleton-list"),L=()=>C("#load-more"),k=n=>{const e=x("#movie-list-title");e&&(e.textContent=n)},E=()=>{const n=x(".item-list");n&&n.replaceChildren()};class Z extends HTMLElement{constructor(){super(),this.innerHTML='\n      <header>\n        <h1 class="title" aria-label="Movielist 로고">\n<svg width="123" height="20" viewBox="0 0 123 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <g clip-path="url(#clip0_18_1049)">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M63.7435 19.7044H59.0637V4.92611H63.7435V19.7044ZM63.8667 3.44828H58.9406V0H63.8667V3.44828ZM34.142 8.32512C36.679 8.32512 36.9499 8.71921 36.9499 12.3153C36.9499 15.9113 36.679 16.3054 34.142 16.3054C31.6051 16.3054 31.3342 15.9113 31.3342 12.3153C31.3342 8.71921 31.6051 8.32512 34.142 8.32512ZM26.408 12.3153C26.408 18.4729 27.9598 20 34.142 20C40.3243 20 41.876 18.4729 41.876 12.3153C41.876 6.15764 40.3243 4.63054 34.142 4.63054C27.9598 4.63054 26.408 6.15764 26.408 12.3153ZM58.07 4.92611H53.4149L50.1883 16.2562H50.0405L47.1094 4.92611H42.2572L46.3459 19.7044H53.5626L58.07 4.92611ZM80.2412 15H75.3151C75.3151 16.2315 74.8225 16.5517 72.8766 16.5517C70.8569 16.5517 70.389 16.2315 70.2904 13.6453H80.3643V11.3547C80.2412 5.98522 78.6895 4.63054 72.852 4.63054C66.8422 4.63054 65.3397 6.15764 65.3397 12.3153C65.3397 18.4729 66.8422 20 72.852 20C78.6648 20 80.1427 18.9901 80.2412 15ZM70.3151 10.197C70.4875 8.32512 71.054 8.07882 72.8766 8.07882C75.0441 8.07882 75.389 8.30049 75.4382 10.197H70.3151ZM86.52 14.2611C86.52 15.3941 86.7171 15.5172 88.4659 15.5172V19.7044H85.7811C82.6038 19.7044 81.8156 18.8916 81.8402 15.665V0H86.52V14.2611ZM90.0578 19.7044H94.7376V4.92611H90.0578V19.7044ZM89.9346 3.44828H94.8607V0H89.9346V3.44828ZM101.014 14.7537V15.0739C101.014 16.4039 101.285 16.5517 103.797 16.5517C106.186 16.5517 106.457 16.4286 106.457 15.4187C106.457 14.6798 105.767 14.3596 102.959 13.8424C97.9348 12.8571 96.6786 11.9212 96.6786 9.08867C96.6786 5.51724 98.1318 4.63054 103.92 4.63054C109.585 4.63054 111.014 5.64039 111.014 9.63054V10.0739H106.334V9.63054C106.334 8.2266 106.087 8.07882 103.92 8.07882C101.826 8.07882 101.605 8.20197 101.605 9.23645C101.605 9.92611 102.023 10.1478 103.649 10.3941C109.831 11.4039 111.383 12.4877 111.383 15.7635C111.383 19.1626 109.881 20 103.92 20C97.8609 20 96.3338 19.0148 96.3338 15.0739V14.7537H101.014ZM122.957 15.5172H120.469C118.942 15.5172 118.77 15.3202 118.77 13.5222V8.86699H122.711V4.92611H118.77V1.7734H114.336V4.92611H112.612V8.86699H114.09V14.7291C114.09 18.7192 115.272 19.7044 120.001 19.7044H122.957V15.5172ZM8.70369 19.7044L5.82191 5.41872V0.49261H9.86132L12.7431 14.7783H12.9401L15.8465 0.49261H24.9352V19.7044H19.7628V5.41872H19.615L16.7086 19.7044H8.70369ZM0 0.490265H1.72248V1.29123H3.44482V0.490448H5.1673V1.29123H5.16744V2.89236H5.1673V4.49382H5.16744V6.09495H5.1673V7.69794H5.16744V9.29907H5.1673V10.8996H5.16744V12.5007H5.1673V14.1027H5.16744V15.7039H5.1673V17.3059H5.16744V18.907H5.1673V19.708H3.44482V18.907H1.72248V19.7078H0V18.907V17.3059V15.7039V14.1027V12.5007V10.8996V9.29907V7.69794V6.09495V4.49382V2.89236V1.29123V0.490265ZM1.72248 4.49382V2.89236H3.44482V4.49382H1.72248ZM1.72248 6.09495V7.69794H3.44482V6.09495H1.72248ZM1.72248 10.8996V9.29907H3.44482V10.8996H1.72248ZM1.72248 12.5007V14.1027H3.44482V12.5007H1.72248ZM1.72248 17.3059V15.7039H3.44482V17.3059H1.72248Z" fill="#F33F3F"/>\n  </g>\n  <defs>\n    <clipPath id="clip0_18_1049">\n      <rect width="123" height="20" fill="white"/>\n    </clipPath>\n  </defs>\n</svg></h1>\n        <form class="search-box">\n          <input id="search-input" type="text" placeholder="검색" required />\n          <button class="search-button">검색</button>\n        </form>\n      </header>\n    '}connectedCallback(){var n;const e=x(".search-box");e instanceof HTMLFormElement&&e.addEventListener("submit",(n=>this.handleSubmit(n))),null===(n=x(".title"))||void 0===n||n.addEventListener("click",(()=>this.handleLogoClick()))}handleSubmit(n){if(n.preventDefault(),!(n.target instanceof HTMLFormElement))return;const[e]=n.target.elements;if(!(e instanceof HTMLInputElement))return;const t=e.value.trim();""===t?alert("검색어를 입력해 주세요."):(k(`"${t}" 검색 결과`),H(this,"search",t))}handleLogoClick(){k("지금 인기 있는 영화"),(()=>{const n=x(".search-box");n&&n instanceof HTMLFormElement&&n.reset()})(),H(this,"home")}}const P=Z;class T extends HTMLElement{constructor(){super(),this.innerHTML=`\n      <section class="item-view">\n        <h2 id="movie-list-title">지금 인기 있는 영화</h2>\n        <ul class="item-list"></ul>\n        <ul class="item-list" id="skeleton-list">\n        ${y}\n        </ul>\n        <button id="load-more" class="btn primary full-width">더 보기</button>\n      </section>\n    `}connectedCallback(){var n;null===(n=x("#load-more"))||void 0===n||n.addEventListener("click",(()=>H(this,"loadMore")))}}const S=T,q=t.p+"9f8d716f03770d21e7b7.png";class $ extends HTMLElement{constructor(){super();const n=this.getAttribute("poster-path");this.innerHTML=`\n      <li>\n        <a href="#">\n          <div class="item-card">\n            <img\n              class="item-thumbnail"\n              src=${"null"===n?q:`https://image.tmdb.org/t/p/w220_and_h330_face${n}`}\n              loading="lazy"\n              alt="${this.getAttribute("title")}"\n            />\n            <p class="item-title">${this.getAttribute("title")}</p>\n            <p class="item-score" aria-label="별점">\n<svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M13.6354 15.9663C13.5003 15.9662 13.3673 15.9334 13.2476 15.8707L9 13.6376L4.75236 15.8707C4.61471 15.943 4.45957 15.9754 4.30448 15.9642C4.14938 15.953 4.00052 15.8986 3.87471 15.8072C3.7489 15.7158 3.65117 15.5911 3.59256 15.447C3.53395 15.303 3.5168 15.1454 3.54305 14.9922L4.35441 10.2624L0.918136 6.91318C0.806817 6.80461 0.728084 6.66707 0.690835 6.5161C0.653587 6.36513 0.659307 6.20675 0.707349 6.05886C0.755392 5.91097 0.843841 5.77947 0.962702 5.67921C1.08156 5.57895 1.2261 5.51394 1.37997 5.49152L6.12891 4.80141L8.2525 0.498358C8.32925 0.368401 8.43856 0.260702 8.56964 0.185884C8.70072 0.111066 8.84905 0.0717163 8.99998 0.0717163C9.15091 0.0717163 9.29923 0.111066 9.43031 0.185884C9.56139 0.260702 9.6707 0.368401 9.74745 0.498358L11.8711 4.80133L16.62 5.49144C16.7739 5.51386 16.9184 5.57888 17.0373 5.67913C17.1561 5.77939 17.2446 5.9109 17.2926 6.05879C17.3407 6.20668 17.3464 6.36506 17.3091 6.51603C17.2719 6.667 17.1932 6.80454 17.0818 6.91311L13.6456 10.2623L14.4569 14.9921C14.4774 15.1117 14.4716 15.2344 14.4397 15.3515C14.4079 15.4686 14.3509 15.5774 14.2726 15.6702C14.1944 15.7629 14.0968 15.8375 13.9867 15.8887C13.8767 15.9398 13.7568 15.9663 13.6354 15.9663L13.6354 15.9663Z" fill="#FFC700"/>\n</svg> ${this.getAttribute("vote-average")}  </p>\n          </div>\n        </a>\n      </li>\n    `}}const A=$,j=n=>{n instanceof TypeError?alert("영화 목록을 불러올 수 없습니다. 네트워크 연결에 문제가 있는지 확인해 주세요."):alert(n.message)};var _=function(n,e,t,r){return new(t||(t=Promise))((function(i,o){function a(n){try{l(r.next(n))}catch(n){o(n)}}function s(n){try{l(r.throw(n))}catch(n){o(n)}}function l(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}l((r=r.apply(n,e||[])).next())}))};const z={api_key:"dfa513748d6ffb795fa0bb81313c43c4",language:"ko-KR"},F=n=>_(void 0,void 0,void 0,(function*(){const e=new URL(n,"https://api.themoviedb.org/3/");e.search=I(e,z);try{const n=yield fetch(e);if(!n.ok)throw new Error((n=>{switch(n){case 400:return"잘못된 요청입니다.";case 401:return"인증되지 않은 사용자입니다.";case 403:return"접근이 거부되었습니다.";case 404:return"요청하신 페이지를 찾을 수 없습니다.";case 500:return"서버에 오류가 발생했습니다.";default:return"알 수 없는 오류가 발생했습니다."}})(n.status));return n.json()}catch(n){throw n}})),I=(n,e)=>new URLSearchParams(Object.assign(Object.assign({},Object.fromEntries(n.searchParams)),e)).toString(),O=n=>n.map((({title:n,poster_path:e,vote_average:t})=>({title:n,posterPath:e,voteAverage:t})));var R=function(n,e,t,r){return new(t||(t=Promise))((function(i,o){function a(n){try{l(r.next(n))}catch(n){o(n)}}function s(n){try{l(r.throw(n))}catch(n){o(n)}}function l(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}l((r=r.apply(n,e||[])).next())}))};const U={isPopular:!0,query:"",currentPage:1,init(){this.bindEvents(),this.renderPopularMovies()},bindEvents(){var n,e,t;null===(n=x("movie-header"))||void 0===n||n.addEventListener("home",(()=>this.handleLogoClick())),null===(e=x("movie-header"))||void 0===e||e.addEventListener("search",(({detail:n})=>{""!==n&&n&&this.handleSearch(n)})),null===(t=x("movie-list-section"))||void 0===t||t.addEventListener("loadMore",(()=>this.handleLoadMore()))},handleLogoClick(){this.reset(),this.renderPopularMovies()},handleSearch(n){this.query!==n&&(this.isPopular=!1,this.query=n,this.currentPage=1,E(),this.renderSearchedMovies())},handleLoadMore(){this.isPopular?this.renderPopularMovies():this.renderSearchedMovies()},renderPopularMovies(){return R(this,void 0,void 0,(function*(){try{M();const e=yield(n=this.currentPage,_(void 0,void 0,void 0,(function*(){const{results:e}=yield F(`movie/popular?page=${n}`);return e})));V(),this.updatePage(O(e))}catch(n){n instanceof Error&&j(n),V(),L()}var n}))},renderSearchedMovies(){return R(this,void 0,void 0,(function*(){try{M();const n=yield((n,e=1)=>_(void 0,void 0,void 0,(function*(){const{results:t}=yield F(`search/movie?query=${n}&page=${e}`);return t})))(this.query,this.currentPage);V(),this.updatePage(O(n))}catch(n){n instanceof Error&&j(n),V(),L()}}))},updatePage(n){n.length<20&&L(),this.currentPage+=1,(n=>{const e=x(".item-list");e&&e.insertAdjacentHTML("beforeend",` ${n.map((({title:n,posterPath:e,voteAverage:t})=>`\n            <movie-list-item \n              title="${n}" \n              poster-path="${e}" \n              vote-average="${t}"\n            ></movie-list-item>\n          `)).join("")}\n    `)})(n)},reset(){this.isPopular=!0,this.query="",this.currentPage=1,E(),w("#load-more")}};customElements.define("movie-header",P),customElements.define("movie-list-section",S),customElements.define("movie-list-item",A),U.init()})()})();